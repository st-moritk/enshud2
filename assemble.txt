.STPUSH1 NOP
SETIX FFFF
LDDA
SETIX 8001
STDA
LDIA 01
SETIX FFFE
LDDB
ANDB
CMP
JPZ .PUSHED1
JP .STPUSH1
.PUSHED1 NOP
LDIA 01
SETIX FFFE
LDDB
ANDB
LDIA 00
CMP
JPZ .RELEASED1
JP .PUSHED1
.RELEASED1 NOP
.STPUSH2 NOP
SETIX FFFF
LDDA
SETIX 8002
STDA
LDIA 01
SETIX FFFE
LDDB
ANDB
CMP
JPZ .PUSHED2
JP .STPUSH2
.PUSHED2 NOP
LDIA 01
SETIX FFFE
LDDB
ANDB
LDIA 00
CMP
JPZ .RELEASED2
JP .PUSHED2
.RELEASED2 NOP
SETIX 8004
STDI 00
SETIX 8003
STDI 00
SETIX 8002
LDDA
LDIB 80
ANDB
JPZ .START
SETIX 8003
STDI ff
.START NOP
SETIX 8002
LDDA
LDIB 00
CMP
JPZ .GOAL
SETIX 8001
LDDB
SETIX 8004
LDDA
ADDA
STDA
SETIX 8003
LDDA
LDIB 00
CMP
JPZ .DECRE
SETIX 8002
LDDA
INCA
STDA
JP .START
.DECRE NOP
SETIX 8002
LDDA
DECA
STDA
JP .START
.GOAL NOP
SETIX 8003
LDDB
LDIA 00
CMP
JPZ .END
SETIX 8004
LDDB
SUBA
STDA
.END NOP
SETIX 8004
LDDB
.LOOP NOP
NOP
NOP
NOP
NOP
NOP
NOP
NOP
NOP
JP .LOOP
NOP
NOP
NOP
NOP
NOP
NOP
NOP
NOP
