.STPUSH1 NOP
SETIX FFFF
LDDA
SETIX .OPERAND1
STDA
LDIA 01
SETIX FFFE
LDDB
ANDB
CMP
JPZ .PUSHED1
JP .STPUSH1
.PUSHED1 NOP
LDIA 01
SETIX FFFE
LDDB
ANDB
LDIA 00
CMP
JPZ .RELEASED1
JP .PUSHED1
.RELEASED1 NOP
.STPUSH2 NOP
SETIX FFFF
LDDA
SETIX .OPERAND2
STDA
LDIA 01
SETIX FFFE
LDDB
ANDB
CMP
JPZ .PUSHED2
JP .STPUSH2
.PUSHED2 NOP
LDIA 01
SETIX FFFE
LDDB
ANDB
LDIA 00
CMP
JPZ .RELEASED2
JP .PUSHED2
.RELEASED2 NOP
SETIX .OPERAND2
LDDA
LDIB 80
ANDB
JPZ .START
SETIX .FLAG
STDI ff
.START NOP
SETIX .OPERAND2
LDDA
LDIB 00
CMP
JPZ .GOAL
SETIX .OPERAND1
LDDB
SETIX .RESULT
LDDA
ADDA
STDA
SETIX .FLAG
LDDA
LDIB 00
CMP
JPZ .DECRE
SETIX .OPERAND2
LDDA
INCA
STDA
JP .START
.DECRE NOP
SETIX .OPERAND2
LDDA
DECA
STDA
JP .START
.GOAL NOP
SETIX .FLAG
LDDB
LDIA 00
CMP
JPZ .END
SETIX .RESULT
LDDB
SUBA
STDA
.END NOP
SETIX .RESULT
STDA
.LOOP NOP
NOP
NOP
NOP
NOP
NOP
NOP
NOP
NOP
JP .LOOP
NOP
NOP
NOP
NOP
NOP
NOP
NOP
NOP
.RESULT NOP
.OPERAND1 NOP
.OPERAND2 NOP
.FLAG NOP
